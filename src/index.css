
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* V128 Core Color Palette */
    --v128-slate-50: 249 250 251;
    --v128-slate-100: 243 244 246;
    --v128-slate-200: 229 231 235;
    --v128-slate-300: 209 213 219;
    --v128-slate-500: 107 114 128;
    --v128-slate-600: 75 85 99;
    --v128-slate-700: 55 65 81;
    --v128-slate-800: 31 41 55;
    --v128-slate-900: 15 23 42;
    
    /* V128 Brand Colors */
    --v128-purple-500: 147 51 234;
    --v128-purple-600: 126 34 206;
    --v128-purple-700: 109 40 217;
    --v128-green-400: 74 222 128;
    --v128-green-500: 34 197 94;
    --v128-green-600: 22 163 74;
    --v128-blue-500: 59 130 246;
    --v128-amber-400: 251 191 36;
    --v128-red-500: 239 68 68;
    
    /* V128 Semantic Tokens */
    --background: var(--v128-slate-50);
    --foreground: var(--v128-slate-900);
    --card: 0 0% 100%;
    --card-foreground: var(--v128-slate-900);
    --popover: 0 0% 100%;
    --popover-foreground: var(--v128-slate-900);
    --primary: var(--v128-purple-600);
    --primary-foreground: 0 0% 100%;
    --secondary: var(--v128-slate-100);
    --secondary-foreground: var(--v128-slate-800);
    --muted: var(--v128-slate-100);
    --muted-foreground: var(--v128-slate-600);
    --accent: var(--v128-purple-500);
    --accent-foreground: 0 0% 100%;
    --destructive: var(--v128-red-500);
    --destructive-foreground: 0 0% 100%;
    --border: var(--v128-slate-200);
    --input: var(--v128-slate-200);
    --ring: var(--v128-purple-600);
    
    /* V128 Goblin Colors */
    --goblin-primary: var(--v128-green-500);
    --goblin-secondary: var(--v128-green-400);
    --goblin-accent: var(--v128-green-600);
    --goblin-bg: var(--v128-green-400);
    --goblin-text: var(--v128-slate-900);
    
    /* V128 Enhanced Gradients */
    --gradient-primary: linear-gradient(135deg, hsl(var(--v128-purple-600)), hsl(var(--v128-purple-500)));
    --gradient-goblin: linear-gradient(135deg, hsl(var(--v128-green-500)), hsl(var(--v128-green-400)));
    --gradient-subtle: linear-gradient(180deg, hsl(var(--v128-slate-50)), hsl(var(--v128-slate-100)));
    
    /* V128 Enhanced Shadows */
    --shadow-soft: 0 1px 3px 0 hsl(var(--v128-slate-900) / 0.1), 0 1px 2px 0 hsl(var(--v128-slate-900) / 0.06);
    --shadow-medium: 0 4px 6px -1px hsl(var(--v128-slate-900) / 0.1), 0 2px 4px -1px hsl(var(--v128-slate-900) / 0.06);
    --shadow-large: 0 10px 15px -3px hsl(var(--v128-slate-900) / 0.1), 0 4px 6px -2px hsl(var(--v128-slate-900) / 0.05);
    --shadow-goblin: 0 4px 15px hsl(var(--v128-green-500) / 0.2);
    
    /* V128 Animation Tokens */
    --transition-quick: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-smooth: 300ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);
    
    /* V128 Spacing & Typography */
    --radius: 0.75rem;
    --font-display: 'Inter', system-ui, sans-serif;
    --font-body: 'Inter', system-ui, sans-serif;
    --font-mono: 'Fira Code', 'JetBrains Mono', monospace;
    
    /* Charts */
    --chart-1: var(--v128-purple-500);
    --chart-2: var(--v128-green-500);
    --chart-3: var(--v128-blue-500);
    --chart-4: var(--v128-amber-400);
    --chart-5: var(--v128-red-500);
  }

  .dark {
    --background: var(--v128-slate-900);
    --foreground: var(--v128-slate-100);
    --card: var(--v128-slate-800);
    --card-foreground: var(--v128-slate-100);
    --popover: var(--v128-slate-800);
    --popover-foreground: var(--v128-slate-100);
    --primary: var(--v128-purple-500);
    --primary-foreground: var(--v128-slate-900);
    --secondary: var(--v128-slate-700);
    --secondary-foreground: var(--v128-slate-100);
    --muted: var(--v128-slate-800);
    --muted-foreground: var(--v128-slate-300);
    --accent: var(--v128-purple-600);
    --accent-foreground: var(--v128-slate-100);
    --destructive: var(--v128-red-500);
    --destructive-foreground: var(--v128-slate-100);
    --border: var(--v128-slate-700);
    --input: var(--v128-slate-700);
    --ring: var(--v128-purple-500);
    
    /* Dark mode goblin adjustments */
    --goblin-primary: var(--v128-green-400);
    --goblin-secondary: var(--v128-green-500);
    --goblin-accent: var(--v128-green-600);
    --goblin-bg: var(--v128-green-500);
    --goblin-text: var(--v128-slate-900);
    
    /* Dark mode shadows */
    --shadow-soft: 0 1px 3px 0 hsl(0 0% 0% / 0.2), 0 1px 2px 0 hsl(0 0% 0% / 0.12);
    --shadow-medium: 0 4px 6px -1px hsl(0 0% 0% / 0.2), 0 2px 4px -1px hsl(0 0% 0% / 0.12);
    --shadow-large: 0 10px 15px -3px hsl(0 0% 0% / 0.2), 0 4px 6px -2px hsl(0 0% 0% / 0.1);
    --shadow-goblin: 0 4px 15px hsl(var(--v128-green-400) / 0.3);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground font-body;
  }
}

@layer components {
  /* V128 Component Classes */
  .v128-card {
    @apply rounded-lg border bg-card text-card-foreground shadow-v128-soft hover:shadow-v128-medium transition-v128-smooth;
  }
  
  .v128-card-goblin {
    @apply v128-card border-goblin-primary/20 bg-goblin-bg/5 hover:bg-goblin-bg/10;
  }
  
  .v128-button-primary {
    @apply bg-gradient-primary text-primary-foreground hover:opacity-90 shadow-v128-soft hover:shadow-v128-medium font-semibold transition-v128-smooth;
  }
  
  .v128-button-goblin {
    @apply bg-gradient-goblin text-goblin-text hover:opacity-90 shadow-v128-goblin font-semibold border border-goblin-accent transition-v128-smooth;
  }
  
  .v128-input {
    @apply rounded-lg border-2 border-input bg-background px-4 py-3 text-base font-body shadow-v128-soft focus-visible:shadow-v128-medium transition-v128-smooth;
  }
  
  .v128-text-display {
    @apply font-display font-semibold tracking-tight;
  }
  
  .v128-text-goblin {
    @apply text-goblin-primary font-semibold;
  }
  
  .v128-badge-goblin {
    @apply bg-goblin-primary/10 text-goblin-accent border border-goblin-primary/20 rounded-full px-3 py-1 text-xs font-medium;
  }
}

/* Force consistent font rendering for annotation markers */
.annotation-marker-number {
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif !important;
  font-feature-settings: "tnum" 1 !important;
  -webkit-font-feature-settings: "tnum" 1 !important;
  font-variant-numeric: tabular-nums !important;
  text-rendering: geometricPrecision !important;
  -webkit-text-rendering: geometricPrecision !important;
}

/* Ensure numbers display correctly in all annotation contexts */
[data-annotation-number] {
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif !important;
  font-feature-settings: "tnum" 1 !important;
  font-variant-numeric: tabular-nums !important;
  letter-spacing: 0 !important;
}
